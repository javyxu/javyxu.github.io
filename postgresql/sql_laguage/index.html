<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"javyxu.cn","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="SQL语言这部分描述了SQL语言在PostgreSQL中的使用。我们从描述SQL的基础语法开始，然后解释如何创建结构来保存数据，如何填充数据库以及如何查询它。中间部分列出了用于SQL命令的可用数据类型和函数。剩余部分对于优化数据库以获得最佳性能非常重要。 这个部分的信息是被安排的，这样一个新手用户可以跟随它开始结束以获得对主题的充分理解，而不必过多的引用。这些章节的内容是独立的，所以高级用户可以在">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL语言">
<meta property="og:url" content="https://javyxu.cn/postgresql/sql_laguage/index.html">
<meta property="og:site_name" content="Tech Blog">
<meta property="og:description" content="SQL语言这部分描述了SQL语言在PostgreSQL中的使用。我们从描述SQL的基础语法开始，然后解释如何创建结构来保存数据，如何填充数据库以及如何查询它。中间部分列出了用于SQL命令的可用数据类型和函数。剩余部分对于优化数据库以获得最佳性能非常重要。 这个部分的信息是被安排的，这样一个新手用户可以跟随它开始结束以获得对主题的充分理解，而不必过多的引用。这些章节的内容是独立的，所以高级用户可以在">
<meta property="og:locale">
<meta property="article:published_time" content="2018-11-18T08:30:00.000Z">
<meta property="article:modified_time" content="2021-02-21T02:37:33.322Z">
<meta property="article:author" content="Javy">
<meta property="article:tag" content="PostgresSQL">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://javyxu.cn/postgresql/sql_laguage/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh'
  };
</script>

  <title>SQL语言 | Tech Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Tech Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Javy's Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-algorithm">

    <a href="/algorithm/" rel="section"><i class="fa fa-code fa-fw"></i>Algorithm</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/javyxu" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh">
    <link itemprop="mainEntityOfPage" href="https://javyxu.cn/postgresql/sql_laguage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Javy">
      <meta itemprop="description" content="You can create art and beauty on a computer.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tech Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          SQL语言
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-11-18 16:30:00" itemprop="dateCreated datePublished" datetime="2018-11-18T16:30:00+08:00">2018-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-02-21 10:37:33" itemprop="dateModified" datetime="2021-02-21T10:37:33+08:00">2021-02-21</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/PostgresSQL/" itemprop="url" rel="index"><span itemprop="name">PostgresSQL</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="SQL语言"><a href="#SQL语言" class="headerlink" title="SQL语言"></a>SQL语言</h2><p>这部分描述了SQL语言在PostgreSQL中的使用。我们从描述SQL的基础语法开始，然后解释如何创建结构来保存数据，如何填充数据库以及如何查询它。中间部分列出了用于SQL命令的可用数据类型和函数。剩余部分对于优化数据库以获得最佳性能非常重要。</p>
<p>这个部分的信息是被安排的，这样一个新手用户可以跟随它开始结束以获得对主题的充分理解，而不必过多的引用。这些章节的内容是独立的，所以高级用户可以在选择的时候单独阅读章节。这部分的信息以一种叙事的方式呈现在主题单元中。读者在寻找特定命令的完整描述时，应该看到第VI部分。</p>
<p>读者在这一部分应该知道如何连接到PostgreSQL数据库并发出SQL命令。不熟悉这些问题的读者会被鼓励阅读第一部分。SQL命令通常使用PostgreSQL交互式终端<code>psql</code>来输入，但是其他具有类似功能的程序也可以使用。</p>
<h3 id="SQL语法"><a href="#SQL语法" class="headerlink" title="SQL语法"></a>SQL语法</h3><p>本章描述SQL语法。它为理解以下章节奠定了基础，接下来的章节将详细介绍如何应用SQL命令来定义和修改数据。</p>
<p>我们还建议已经熟悉SQL的用户仔细阅读本章，因为它包含了一些在SQL数据库中不一致地实现的规则和概念，或者是特定于PostgreSQL的。</p>
<h4 id="词汇结构"><a href="#词汇结构" class="headerlink" title="词汇结构"></a>词汇结构</h4><a id="more"></a>
<p>SQL输入由一系列命令组成。命令由一系列<em>标记</em>组成，以分号(“;”)终止。输入流的末尾也终止一个命令。哪些标记是有效的，取决于特定命令的语法。</p>
<p><strong>标记</strong> 可以是<em>关键字</em>、<em>标识符</em>、<em>引用标识符</em>、<em>文字(或常量)<em>或</em>特殊字符符号</em>。标记通常由空格(空格、制表符、换行符)分隔，但如果没有歧义(通常只有在特殊字符与其他token类型相邻的情况下)，则不需要。</p>
<p>例如，以下是(语法上)有效的SQL输入:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> MY_TABLE;</span><br><span class="line">UPDATE MY_TABLE <span class="keyword">SET</span> A <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> MY_TABLE <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">&#x27;hi there&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>这是三个命令的序列，每一行代表一个命令(尽管这不是必需的；可以在一行上执行多个命令，并且可以有效地跨行分隔命令）。</p>
<p>此外，可以在SQL输入中进行<em>注释</em> 。它们不是tokens，实际上相当于空格。</p>
<p>对于标识命令、操作数或参数SQL语法并不十分一致。最初的几个标记通常是命令名，因此在上面的示例中，我们通常会提到<code>SELECT</code>、<code>UPDATE</code>和<code>INSERT</code>命令。但是，<code>UPDATE</code>命令总是需要一个<code>SET</code>标记出现在某个位置，而<code>INSERT</code>的特殊变量也需要<code>VALUES</code>才能完成。<a href="">详细语法规则</a> 分描述了每个命令的精确语法规则。</p>
<ol>
<li><p>标识符和关键字</p>
<p> 在上面的示例中，诸如<code>SELECT</code>、<code>UPDATE</code>或<code>VALUES</code>之类的标记是<em>关键字</em> 的示例，也就是说，在SQL语言中具有固定含义的单词。MY_TABLE和A是<em>标识符</em> 的示例。它们根据所使用的命令来标识表、列或其他数据库对象的名称。因此，它们有时被简单地称为“名字”。关键字和标识符具有相同的语法结构，这意味着人们不知道标记是标识符还是不懂语言的关键字。关键字的完整列表可以在<a target="_blank" rel="noopener" href="https://www.postgresql.org/docs/10/static/sql-keywords-appendix.html">附录C</a> 中找到。</p>
<p> SQL标识符和关键字必须以字母开头(字母a-z，但同时还要有字母和非拉丁字母)或下划线(_)。标识符或关键字中的后续字符可以是字母、下划线、数字(0-9)或美元符号($)。注意，根据SQL标准的字母，标识符不允许使用美元符号，因此它们的使用可能会使应用程序变得更不轻便。SQL标准不会定义一个包含数字或开始或以下划线开头的关键词，因此，这种表单的标识符可以避免与将来的标准扩展冲突。</p>
<p> 该系统仅使用标识符的<code>NAMEDATALEN-1</code>字节；可以在命令中编写较长的名称，但它们将被截断，默认情况下，<em>NAMEDATALEN</em> 是64，因此最大标识符长度为63字节。如果这个限制是有问题的，可以通过更改<code>src/include/pg_config_manul.h</code>中的<strong>NAMEDATALEN</strong> 常量来提高。</p>
<p> 关键字和未引用的标识符是大小写不敏感的。因此:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE MY_TABLE <span class="keyword">SET</span> A <span class="operator">=</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<p> 可以等价地写成:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uPDaTE my_TabLE <span class="keyword">SeT</span> a <span class="operator">=</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<p> 一种常用的惯例是在大写字母和小写字母中写上关键词，例如:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE my_table <span class="keyword">SET</span> a <span class="operator">=</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<p> 还有第二种标识符:<em>分隔标识符或引用标识符</em>。它是通过在双引号(“)中包含任意字符序列来形成的。分隔符始终是标识符，而不是关键字。因此，“select”可以用来引用一个名为“select”的列或表，而未引用的select将被当作一个关键字，因此当使用表或列名时，会引发解析错误。这个例子可以用引号来表示:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE &quot;my_table&quot; <span class="keyword">SET</span> &quot;a&quot; <span class="operator">=</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<p> 引用的标识符可以包含任何字符，除了代码为零的字符。(包括双引号，两个双引号)这允许构造表或列名，否则将不可能，例如包含空格或符号的字段。长度限制仍然适用。</p>
<p> 引用的标识符的一个变量允许包括由其代码点标识的转义Unicode字符。此变量从<code>u&amp;</code>(大小写U后面跟着ampersand)开始，然后在打开双引号之前，在中间没有任何空格，例如u&amp;“foo”。(注意，这会给操作人员带来歧义。使用周围的空间来避免这个问题。在引号内，可以通过写反斜杠来指定Unicode字符，后跟4个十六进制代码点数或反斜杠，后跟一个加号，后跟一个6位数的十六进制代码点。例如，标识符“数据”可以写成。</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U<span class="operator">&amp;</span>&quot;d\0061t\+000061&quot;</span><br></pre></td></tr></table></figure>
<p> 下面这个不那么简单的例子是用古希腊字母写的俄文“slon”(大象):</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U<span class="operator">&amp;</span>&quot;\0441\043B\043E\043D&quot;</span><br></pre></td></tr></table></figure>
<p> 如果需要一个不同的转义字符，那么可以在字符串后面使用<code>UESCAPE</code>子语句指定它，例如:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U<span class="operator">&amp;</span>&quot;d!0061t!+000061&quot; <span class="keyword">UESCAPE</span> <span class="string">&#x27;!&#x27;</span></span><br></pre></td></tr></table></figure>
<p> 转义字符可以是任何单个字符，而不仅仅是十六进制数字、加号、单引号、双引号或空格字符。注意，转义字符是用单引号写的，而不是双引号。</p>
<p> 要在标识符中包含转义字符，请写两次。</p>
<p> 只有当服务器编码为UTF8时，Unicode转义语法才起作用。当使用其他服务器编码时，可以指定ASCII范围内的代码点(最高为\007F)。4位和6位的形式都可以用来指定UTF-16的代理对，用比U+FFFF更大的代码点组成字符，尽管6位数字形式的可用性使得这没有必要。(代理对并不是直接存储的，而是将其组合成一个代码点，然后用UTF-8编码。)</p>
<p> 引用一个标识符也会使它区分大小写，而未引用的名称总是被折叠到小写。例如，标识符FOO、Foo和“Foo”在PostgreSQL中被认为是相同的，但是“Foo”和“FOO”不同于这三者和彼此。(在PostgreSQL中，未引用的名称的折叠是与SQL标准不兼容的，这意味着未引用的名称应该折叠到大写。因此，foo应该等同于“FOO”而不是“foo”。如果您想编写可移植的应用程序，建议您总是引用一个特定的名称，或者永远不要引用它。</p>
</li>
<li><p>常量</p>
<p> PostgreSQL中有三种隐含类型常量:字符串、位串和数字。常量还可以使用显式类型指定，这可以使系统更准确地表示和更有效地处理。下面的小节将讨论这些替代方案。</p>
<ul>
<li><p><strong>字符串常量</strong></p>
<p>  SQL中的字符串常量是由单引号(‘)绑定的任意字符序列，例如<code>&#39;This is A string&#39;</code>。要在一个字符串常量中包含一个单引号字符，可以写两个相邻的单引号，例如，’Dianne’’ s horse’。请注意，这与双引号字符(“)不一样。</p>
<p>  两个仅由空格分隔的字符串常量，其中至少有一条新行被连接并有效地处理，就像字符串被写成一个常量一样。例如:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;foo&#x27;</span></span><br><span class="line"><span class="string">&#x27;bar&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>  等价于:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;foobar&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>  但是：</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT &#x27;foo&#x27;      &#x27;bar&#x27;;</span><br></pre></td></tr></table></figure>
<p>  这是无效的语法。(这有点奇怪的行为是由SQL指定的；PostgreSQL遵循标准。）</p>
</li>
<li><p><strong>带有C风格的字符串常量</strong></p>
<p>  PostgreSQL还接受“escape”字符串常量，这是对SQL标准的扩展。一个转义字符串常数是通过写字母<code>E</code>(大写或小写)来指定的，就在开头的单引号之前，例如，<code>E&#39;foo</code>。(当在一行中继续执行一个转义字符串时，在第一个开头引用之前写E)。在一个转义字符串中，一个反斜杠字符()开始一个类似于c的反斜杠转义序列，其中反斜杠和跟随字符的组合表示一个特殊的字节值，<strong>如表2.1所示</strong>。</p>
<p>  <strong>表2.1反斜杠转义序列</strong></p>
  <table>
  <td>**反斜杠转义序列**</td> <td>**说明**</td>
  <tr>
  <td>\b</td><td>backspace</td>
  </tr>
  <tr>
  <td>\f</td><td>form feed</td>
  </tr>
  <tr>
  <td>\n</td><td>newline</td>
  </tr>
  <tr>
  <td>\r</td><td>carriage return</td>
  </tr>
  <tr>
  <td>\t</td><td>tab</td>
  </tr>
  <tr>
  <td>\o,\oo,\ooo(o = 0 - 7)</td><td>octal byte value</td>
  </tr>
  <tr>
  <td>\xh,\xhh(h = 0 - 9, A - F)</td><td>hexadecimal byte value</td>
  </tr>
  <tr>
  <td>\uxxxx,\Uxxxxxxxx(x = 0 - 9, A - F)</td><td>16 or 32bit hexadecimal Unicode character value</td>
  </tr>
  </table>
  在反斜杠后面的任何其他字符都是按字面意思执行的。因此，要包含反斜杠字符，可以写两个反斜杠(`\\`)。另外，一个单引号可以包含在一个转义字符串中，除了正常的方式外，还可以写`\\`。

<p>  你的职责是创建的字节序列，特别是在使用八进制或十六进制转义时，在服务器字符集编码中组成有效的字符。当服务器编码为UTF-8时，则应该使用上节中解释的Unicode转义或替代的Unicode转义语法。(另一种方法是手工编写UTF-8编码，并将字节写出来，这将非常麻烦。)</p>
<p>  只有当服务器编码为UTF8时，Unicode转义语法才有效。当使用其他服务器编码时，只能指定ASCII范围内的代码点(最高为\u007F)。4位和8位的形式都可以用来指定UTF-16代理对，以比U+FFFF更大的代码点组成字符，尽管8位数字形式的可用性使得这没有必要。(当服务器编码为UTF8时使用代理对时，首先将它们组合成一个单独的代码点，然后用UTF-8编码。)</p>
<p>  代码为0的字符不能在字符串常量中。</p>
</li>
<li><p><strong>使用Unicode转义的字符串常量</strong></p>
<p>  PostgreSQL还支持另一种用于字符串的转义语法，它允许通过代码指定任意的Unicode字符。一个Unicode的转义字符串常量从u&amp;(上或小写字母U后面跟着ampersand)开始，在引号前面没有空格，例如u&amp;’ foo。(注意，这会给操作人员带来歧义。使用周围的空间来避免这个问题。在引号内，可以通过写反斜杠来指定Unicode字符，后跟4个十六进制代码点数或反斜杠，后跟一个加号，后跟一个6位数的十六进制代码点。例如，字符串’data’可以写成。</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U<span class="operator">&amp;</span><span class="string">&#x27;d\0061t\+000061&#x27;</span></span><br></pre></td></tr></table></figure>
<p>  下面这个不那么简单的例子是用古希腊写的俄文“slon”(大象):</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U<span class="operator">&amp;</span><span class="string">&#x27;\0441\043B\043E\043D&#x27;</span></span><br></pre></td></tr></table></figure>
<p>  如果需要一个不同的转义字符，那么可以在字符串后面使用<code>UESCAPE</code>子语句指定它，例如:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U<span class="operator">&amp;</span><span class="string">&#x27;d!0061t!+000061&#x27;</span> <span class="keyword">UESCAPE</span> <span class="string">&#x27;!&#x27;</span></span><br></pre></td></tr></table></figure>
<p>  转义字符可以是任何单个字符，而不是十六进制数字、加号、单引号、双引号或空格字符。</p>
<p>  只有当服务器编码为UTF8时，Unicode转义语法才起作用。当使用其他服务器编码时，可以指定ASCII范围内的代码点(最高为\007F)。4位和6位的形式都可以用来指定UTF-16的代理对，用比U+FFFF更大的代码点组成字符，尽管6位数字形式的可用性使得这没有必要。(当服务器编码为UTF8时使用代理对时，首先将它们组合成一个单独的代码点，然后用UTF-8编码。)</p>
<p>  此外，只有当配置参数<a target="_blank" rel="noopener" href="https://www.postgresql.org/docs/10/static/runtime-config-compatible.html#GUC-STANDARD-CONFORMING-STRINGS">standard_conforming_strings</a>打开时，字符串常量的Unicode转义语法才会起作用。这是因为否则这种语法会使解析SQL语句的客户机感到迷惑，从而导致SQL注入和类似的安全问题。如果将参数设置为off，则将使用错误消息拒绝此语法。</p>
<p>  要在字串中包含转义字符，请写两次。</p>
</li>
<li><p><strong>Dollar-quoted字符串常量</strong></p>
<p>  虽然指定字符串常量的标准语法通常很方便，但是当所需的字符串包含许多单引号或反斜杠时，就很难理解了，因为每个字符串都必须加倍。为了在这种情况下允许更可读的查询，PostgreSQL提供了另一种方法，称为“引用美元”，以编写字符串常量。一个美元引用的字符串常量由一个美元符号($)组成，一个可选的零或多个字符的“标记”，另一个美元符号，组成字符串内容的任意字符序列，一个美元符号，开始这一美元报价的相同标签，和一个美元符号。例如，这里有两种不同的方法来指定字符串“Dianne的马”，使用<code>$</code>引用:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$$Dianne<span class="string">&#x27;s horse$$</span></span><br><span class="line"><span class="string">$SomeTag$Dianne&#x27;</span>s horse$SomeTag$</span><br></pre></td></tr></table></figure>
<p>  注意，在美元引用的字符串中，可以使用单引号而不需要转义。事实上，一个美元引用的字符串中没有任何字符被转义:字符串内容总是按字面意思写的。反斜杠并不是特别的，美元符号也不是特别的，除非它们是与开始标签匹配的序列的一部分。</p>
<p>  通过在每个嵌套级别上选择不同的标记，可以使用美元引用的字符串常量。这在编写函数定义时最常用。例如:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$<span class="keyword">function</span>$</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">RETURN</span> ($<span class="number">1</span> <span class="operator">~</span> $q$[\t\r\n\v\\]$q$);</span><br><span class="line"><span class="keyword">END</span>;</span><br><span class="line">$<span class="keyword">function</span>$</span><br></pre></td></tr></table></figure>
<p>  在这里，序列<code>$q$[\t\r\n\v\\]$q$</code>表示一个美元引用的字符串<code>[\t\r\n\v\\]</code>。但是由于这个序列与外部美元的函数值不匹配，所以它只是在外部字符串的范围内的一些字符。</p>
<p>  标签，如果有的话，一个美元引用的字符串遵循与未引用的标识符相同的规则，只是它不能包含一个美元符号。标签是区分大小写的，所以<code>$tag$String content$tag$</code>是正确的，但是<code>$tag$String content$tag$</code>不是。</p>
<p>  引用一个关键字或标识符的美元引用的字符串必须与空格分开;否则，引用分隔符的美元将作为前面标识符的一部分。</p>
<p>  引用美元不是SQL标准的一部分，但它通常比标准兼容的单引号语法更方便地编写复杂的字符串。当在其他常量中表示字符串常量时，它特别有用，因为在过程函数定义中经常需要这样做。使用单引号语法，上面的示例中的每个反斜杠都必须写成4个反斜杠，在解析原始字符串常量时，将减少为两个反斜杠，然后在函数执行期间重新解析内字符串常量时，将其改为1。</p>
</li>
<li><p><strong>位串常量</strong></p>
<p>  在打开引号之前(不插入空格)，例如<code>B&#39;1001&#39;</code>，位串常量看起来就像普通的字符串常量(大写或小写)。在位串常量中允许的唯一字符是0和1。</p>
<p>  或者，可以用十六进制表示法来指定位串常量，前面使用的X(大写或小写)，例如<code>X&#39;1FF&#39;</code>。这个符号相当于一个位串常数，每个十六进制数字的四位二进制数字。</p>
<p>  这两种类型的位串常数都可以像普通的字符串常量一样以相同的方式继续。美元引用不能用在位串常数中。</p>
</li>
<li><p><strong>数字常量</strong></p>
<p>  数值常量在这些一般形式中被接受:</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">digits</span><br><span class="line">digits.[digits][e[+-]digits]</span><br><span class="line">[digits].digits[e[+-]digits]</span><br><span class="line">digitse[+-]digits</span><br></pre></td></tr></table></figure>
<p>  如果数字是一个或多个十进制数字(0到9)，至少一个数字必须在小数点之前或之后，如果使用了一个数字。如果出现一个数字，至少有一个数字必须跟随指数标记(e)。不能有任何空格或其他字符嵌入在常量中。注意，任何正负号都不被认为是常数的一部分;它是一个应用于常数的算子。</p>
<p>  这些是一些有效的数值常量的例子:<br>  42<br>  3.5<br>  4.<br>  .001<br>  5e2<br>  1.925e-3</p>
<p>  一个既不包含小数点也不包含指数的数值常量，如果它的值符合<code>integer</code>(32位)，则最初假定为整数类型；否则，如果其值符合<code>bigint</code>类型(64位)，则假定为类型<code>bigint</code>；否则，它被认为是<code>numeric</code>的。包含小数点和/或指数的常量最初被假定为类型数值。</p>
<p>  数字常量的初始指定数据类型只是类型解析算法的起点。在大多数情况下，根据上下文，常量会自动被强制到最合适的类型。当需要时，您可以强制将一个数字值转换为特定的数据类型。例如，您可以通过写入来强制将数值处理为类型real (float4):</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">REAL</span> <span class="string">&#x27;1.23&#x27;</span>  <span class="comment">-- string style</span></span><br><span class="line"><span class="number">1.23</span>::<span class="type">REAL</span>   <span class="comment">-- PostgreSQL (historical) style</span></span><br></pre></td></tr></table></figure>
<p>  这些实际上只是接下来讨论的一般铸造符号的特殊情况。</p>
</li>
<li><p><strong>其他类型的常量</strong></p>
<p>  任意类型的**<em>arbitrary**</em> 可以使用下列任何一种符号来输入:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type <span class="string">&#x27;string&#x27;</span></span><br><span class="line"><span class="string">&#x27;string&#x27;</span>::type</span><br><span class="line"><span class="built_in">CAST</span> ( <span class="string">&#x27;string&#x27;</span> <span class="keyword">AS</span> type )</span><br></pre></td></tr></table></figure>
<p>  字符串常量的文本被传递给类型为类型的输入转换例程。结果是指定类型的常数。如果对常量的类型没有歧义(例如，当它被直接分配到表列时)，则可以省略显式类型转换(例如，当它被直接分配到表列时)，在这种情况下它是自动强制的。</p>
<p>  字符串常量可以使用常规SQL符号或美元引用来编写。</p>
<p>  还可以使用类似函数的语法指定类型强制:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">typename ( <span class="string">&#x27;string&#x27;</span> )</span><br></pre></td></tr></table></figure>
<p>  但并不是所有类型的名称都可以这样使用；</p>
<p>  <code>::,CAST()</code>和函数调用语法也可以用来指定任意表达式的运行时类型转换,为了避免语法歧义，只能使用<code>&#39;string&#39;</code>类型语法来指定简单的文字常量的类型。语法的另一个限制是，它不能用于数组类型；使用<code>::</code>或<code>CAST()</code>来指定数组常量的类型。</p>
<p>  <code>CAST()</code>语法符合SQL。<code>&#39;string&#39;</code>类型语法是标准的一般化:SQL仅为少数数据类型指定此语法，但PostgreSQL允许对所有类型进行此语法。语法与<code>::</code>是历史的PostgreSQL用法，与函数调用语法一样。</p>
</li>
</ul>
</li>
<li><p>操作符</p>
<p> 操作符名称是由以下列表中的<strong>NAMEDATALEN-1(默认63)</strong> 字符组成的序列:<br> <code>+ - * / &lt; &gt; = ~ !@ # % ^ &amp; | ?</code><br> 不过，对操作员的名字有一些限制:</p>
<ul>
<li><p>–并且/*不能以操作符的名字出现在任何地方，因为它们将作为注释的开始。</p>
</li>
<li><p>一个多字符的操作符名称不能以+或-的形式结束，除非这个名称至少包含其中一个字符:<code>~ !@ # % &amp; | &#39; ?</code><br>例如，@是一个允许的操作符名称，但是*-不是。此限制允许PostgreSQL解析符合sql的查询，而不需要在令牌之间进行空格。</p>
<p>在使用非sql标准的操作符名称时，通常需要将相邻的操作符与空格分开以避免歧义。例如，如果定义了一个名为@的左操作符，您就不能写入X*@y;必须编写X*@Y以确保PostgreSQL将其视为两个操作符而不是一个。</p>
</li>
</ul>
</li>
<li><p>特殊字符</p>
<p> 一些不是字母数字的字符有一个特殊的含义，它与作为一个操作符不同。有关用法的详细信息可以在描述相应语法元素的位置找到。这一节只存在于建议存在和总结这些人物的目的。</p>
<ul>
<li><p>一个美元符号($)后面跟着数字，用来表示函数定义或准备语句中的位置参数。在其他情况下，美元符号可以是标识符或美元引用的字符串常量的一部分。</p>
</li>
<li><p>括号(())具有对组表达式和强制优先级的通常意义。在某些情况下，括号是特定SQL命令的固定语法的一部分。</p>
</li>
<li><p>方括号([])用于选择数组的元素。</p>
</li>
<li><p>逗号(，)用于一些语法结构，以分隔列表的元素。</p>
</li>
<li><p>分号(;)终止一个SQL命令。它不能出现在命令内的任何地方，除非在字符串常量或引用的标识符中。</p>
</li>
<li><p>冒号(:)用于从数组中选择“切片”。(参见8.15节)。在某些SQL方言(如嵌入式SQL)中，冒号用于前缀变量名。</p>
</li>
<li><p>在某些上下文中使用星号(*)表示表行或复合值的所有字段。当用作聚合函数的参数时，它也有特殊意义，即聚合不需要任何显式参数。</p>
</li>
<li><p>期间(.)用于数值常量，并将模式、表和列名分开。</p>
</li>
</ul>
</li>
<li><p>注释</p>
<p> 注释是一个字符序列，从双破折号开始，延伸到行尾，例如:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- This is a standard SQL comment</span></span><br></pre></td></tr></table></figure>
<p> 或者，可以使用c风格的块注释:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* multiline comment</span></span><br><span class="line"><span class="comment"> * with nesting: /* nested block comment */</span></span><br><span class="line"> <span class="operator">*</span><span class="operator">/</span></span><br></pre></td></tr></table></figure>
<p> 注释以/<em>开头，并扩展到</em>/的匹配发生。这些块注释嵌套在SQL标准中指定，但与C不同，因此可以注释掉可能包含现有块注释的更大的代码块。</p>
<p> 在进一步的语法分析之前，注释将从输入流中删除，并有效地替换为空白。</p>
</li>
<li><p>运算符优先级</p>
<p> <strong>表4.2</strong> 显示了PostgreSQL中操作符的优先级和关联性。大多数操作符具有相同的优先级，并且是左关联的。操作符的优先级和结合性是硬连接到解析器的。</p>
<p> 在使用二进制和一元运算符的组合时，有时需要添加圆括号。例如:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">5</span> <span class="operator">!</span> <span class="operator">-</span> <span class="number">6</span>;</span><br></pre></td></tr></table></figure>
<p> 将解析:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">5</span> <span class="operator">!</span> (<span class="operator">-</span> <span class="number">6</span>);</span><br></pre></td></tr></table></figure>
<p> 因为解析器不知道——直到它太迟了!定义为后缀操作符，而不是插入操作符。要想在这种情况下获得所需的行为，您必须编写:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> (<span class="number">5</span> <span class="operator">!</span>) <span class="operator">-</span> <span class="number">6</span>;</span><br></pre></td></tr></table></figure>
<p> 这是为可扩展性付出的代价。</p>
<p> <strong>表4.2。操作员优先级(最高到最低)</strong></p>
 <table>
 <tr>
 <td>操作员/元素</td><td>结合性</td><td>描述</td>
 </tr>
 <tr>
 <td>.</td><td>left</td><td>表、列名称分隔器</td>
 </tr>
 <tr>
 <td>::</td><td>left</td><td>PostgreSQL-style定型</td>
 </tr>
 <tr>
 <td>[ ]</td><td>left</td><td>数组元素的选择</td>
 </tr>
 <tr>
 <td>+ -</td><td>right</td><td>一元加一元减</td>
 </tr>
 <tr>
 <td>^</td><td>left</td><td>乘方</td>
 </tr>
 <tr>
 <td>* / %</td><td>left</td><td>乘、除、模</td>
 </tr>
 <tr>
 <td>+ -</td><td>left</td><td>加、减</td>
 </tr>
 <tr>
 <td>(any other operator)</td><td>left</td><td>所有其他本地和用户定义的操作符</td>
 </tr>
 <tr>
 <td>BETWEEN IN LIKE ILIKE SIMILAR</td><td> </td><td>范围控制，设置成员，字符串匹配</td>
 </tr>
 <tr>
 <td>< > = <= >= <> </td><td> </td><td>比较运算符</td>
 </tr>
 <tr>
 <td>IS ISNULL NOTNULL</td><td> </td><td>IS TRUE, IS FALSE, IS NULL, IS DISTINCT FROM, 等</td>
 </tr>
 <tr>
 <td>NOT</td><td>right</td><td>逻辑非</td>
 </tr>
 <tr>
 <td>AND</td><td>left</td><td>逻辑与</td>
 </tr>
 <tr>
 <td>OR</td><td>left</td><td>逻辑或</td>
 </tr>
 </table>

<p> 注意，操作符优先规则也适用于与上面提到的内置操作符同名的用户定义的操作符。例如，如果您为某些自定义数据类型定义了一个“+”操作符，那么它将具有与内置“+”操作符相同的优先级，无论您的操作是什么。</p>
<p> 在操作符语法中使用模式限定的操作符名称时，例如:</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="number">3</span> OPERATOR(pg_catalog.<span class="operator">+</span>) <span class="number">4</span>;</span><br></pre></td></tr></table></figure>
<p> 对于“任何其他操作符”，操作符构造被认为具有表4.2所示的默认优先级。无论哪个特定的操作符出现在运算符()中，这都是真的。    </p>
</li>
</ol>
<h4 id="值表达式"><a href="#值表达式" class="headerlink" title="值表达式"></a>值表达式</h4><p>值表达式在各种上下文中使用，例如在SELECT命令的目标列表中，在新的列值中使用INSERT或UPDATE，或者在一些命令中使用搜索条件。值表达式的结果有时被称为标量，以区别于表表达式的结果(这是一个表)。因此，值表达式也被称为标量表达式(或者甚至是简单的表达式)。表达式语法允许使用算术、逻辑、集合和其他操作计算原始部件的值。</p>
<p>一个值表达式是以下内容之一:</p>
<ul>
<li><p>常量或文字值</p>
</li>
<li><p>列引用</p>
</li>
<li><p>位置参数引用，在函数定义或准备语句的正文中</p>
</li>
<li><p>一个下标表达式</p>
</li>
<li><p>一个字段选择表达式</p>
</li>
<li><p>操作符调用</p>
</li>
<li><p>一个函数调用</p>
</li>
<li><p>一个聚合表达式</p>
</li>
<li><p>一个窗口函数调用</p>
</li>
<li><p>一种投</p>
</li>
<li><p>排序规则表达式</p>
</li>
<li><p>标量子查询</p>
</li>
<li><p>一个数组构造函数</p>
</li>
<li><p>一行的构造函数</p>
</li>
<li><p>括号中的另一个值表达式(用于组子表达式和重写优先级)</p>
</li>
</ul>
<p>除了这个列表之外，还有一些结构可以被分类为一个表达式，但是不遵循任何一般的语法规则。</p>
<p>我们在上节中讨论了的常数。下面几节讨论剩下的选项。</p>
<ol>
<li><p>列引用</p>
<p>一列可以在表格中引用:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">correlation.columnname</span><br></pre></td></tr></table></figure></li>
</ol>
<p>  <em>相关性</em> 是表的名称(可能符合模式名)，或由<code>FROM</code>子句定义的表的别名。如果在当前查询中使用的所有表的列名是惟一的，则可以省略相关名称和分离点。</p>
<ol start="2">
<li><p>位置参数</p>
<p>位置参数引用用于指示从外部向SQL语句提供的值。参数用于SQL函数定义和准备查询中。一些客户端库还支持从SQL命令字符串中单独指定数据值，在这种情况下，用例参数来引用脱机数据值。参数引用的形式为:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$number</span><br></pre></td></tr></table></figure>
<p>例如，考虑函数的定义，dept, as:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> dept(text) <span class="keyword">RETURNS</span> dept</span><br><span class="line">    <span class="keyword">AS</span> $$ <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> dept <span class="keyword">WHERE</span> name <span class="operator">=</span> $<span class="number">1</span> $$</span><br><span class="line">    <span class="keyword">LANGUAGE</span> <span class="keyword">SQL</span>;</span><br></pre></td></tr></table></figure>
<p>当调用函数时，$1引用第一个函数参数的值。</p>
</li>
<li><p>下标</p>
<p>如果表达式产生一个数组类型的值，那么可以通过写入来提取数组值的特定元素。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expression[subscript]</span><br></pre></td></tr></table></figure>
<p>或多个相邻元素(一个“数组片”)可以通过写入来提取</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expression[lower_subscript:upper_subscript]</span><br></pre></td></tr></table></figure>
<p>(这里，括号[]是按字面意思显示的。)每个子脚本本身就是一个表达式，它必须产生一个整数值。</p>
<p>一般来说，数组表达式必须是圆括号的，但是当表达式为下标的表达式只是一个列引用或位置参数时，括号可以省略。此外，当原始数组是多维的时，可以连接多个下标。例如:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mytable.arraycolumn[<span class="number">4</span>]</span><br><span class="line">mytable.two_d_column[<span class="number">17</span>][<span class="number">34</span>]</span><br><span class="line">$<span class="number">1</span>[<span class="number">10</span>:<span class="number">42</span>]</span><br><span class="line">(arrayfunction(a,b))[<span class="number">42</span>]</span><br></pre></td></tr></table></figure>
<p>最后一个示例中的括号是必需的。</p>
</li>
<li><p>选择字段</p>
<p>如果表达式产生一个复合类型的值(row类型)，那么可以通过写入来提取该行的特定字段。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expression.fieldname</span><br></pre></td></tr></table></figure>
<p>一般来说，行表达式必须是圆括号，但是当从表引用或位置参数中选择表达式时，括号可以省略。例如:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mytable.mycolumn</span><br><span class="line">$<span class="number">1.</span>somecolumn</span><br><span class="line">(rowfunction(a,b)).col3</span><br></pre></td></tr></table></figure>
<p>(因此，一个合格的列引用实际上只是字段选择语法的一个特例)。一个重要的特殊情况是从一个组合类型的表列中提取字段:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(compositecol).somefield</span><br><span class="line">(mytable.compositecol).somefield</span><br></pre></td></tr></table></figure>
<p>这里需要圆括号来显示compositecol是一个列名，而不是一个表名，或者mytable是一个表名，而不是第二个例子中的模式名。</p>
<p>你可以通过写作<code>.*</code>来要求一个复合值的所有字段:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(compositecol).<span class="operator">*</span></span><br></pre></td></tr></table></figure>
<p>这种表示法根据上下文不同而不同。</p>
</li>
<li><p>操作符调用</p>
<p>对于操作员调用，有三种可能的语法:</p>
</li>
</ol>
<p>  <em>表达式运算符表达式(二进制infix运算符)</em><br>  <em>运算符表达式(一元前缀运算符)</em><br>  <em>表达式运算符(unary postfix运算符)</em></p>
<p>  操作符令牌的语法规则，或为关键字 AND，OR，and NOT，或为表单中的合格操作符名称:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OPERATOR(schema.operatorname)</span><br></pre></td></tr></table></figure>
<p>  存在特定的操作符，它们是一元的还是二进制的，取决于操作符由系统或用户定义。</p>
<ol start="6">
<li><p>函数调用</p>
<p>函数调用的语法是一个函数的名称(可能符合模式名)，然后是它的参数列表，括在括号中:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function_name ([expression [, expression ... ]] )</span><br></pre></td></tr></table></figure>
<p>例如，下面计算2的平方根:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sqrt</span>(<span class="number">2</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>聚合表达式</p>
</li>
</ol>
<p>  <em>聚合表达式</em> 表示在查询选择的行之间应用聚合函数。聚合函数将多个输入降低为单个输出值，例如输入的总和或平均值。聚合表达式的语法如下:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">aggregate_name (expression [ , ... ] [ order_by_clause ] ) [ <span class="keyword">FILTER</span> ( <span class="keyword">WHERE</span> filter_clause ) ]</span><br><span class="line">aggregate_name (<span class="keyword">ALL</span> expression [ , ... ] [ order_by_clause ] ) [ <span class="keyword">FILTER</span> ( <span class="keyword">WHERE</span> filter_clause ) ]</span><br><span class="line">aggregate_name (<span class="keyword">DISTINCT</span> expression [ , ... ] [ order_by_clause ] ) [ <span class="keyword">FILTER</span> ( <span class="keyword">WHERE</span> filter_clause ) ]</span><br><span class="line">aggregate_name ( <span class="operator">*</span> ) [ <span class="keyword">FILTER</span> ( <span class="keyword">WHERE</span> filter_clause ) ]</span><br><span class="line">aggregate_name ( [ expression [ , ... ] ] ) <span class="keyword">WITHIN</span> <span class="keyword">GROUP</span> ( order_by_clause ) [ <span class="keyword">FILTER</span> ( <span class="keyword">WHERE</span> filter_clause ) ]</span><br></pre></td></tr></table></figure>
<p>  <em>aggregate_name</em> 是以前定义的聚合(可能符合模式名称)，表达式是任何不包含聚合表达式或窗口函数调用的值表达式。可选的<em>order_by_clause</em> 和<em>filter_clause</em> 描述如下。</p>
<p>  聚合表达式的第一种形式为每个输入行调用一次聚合。第二个表单与第一个表单相同，因为所有的都是默认的。第三个表单将对输入行中发现的表达式的每个不同值(或不同的值集合)调用一次聚合。第四种形式为每个输入行调用一次聚合;由于没有指定特定的输入值，因此通常只对<code>count(*)</code>聚合函数有用。最后一种形式使用有序集聚合函数，如下所示。</p>
<p>  大多数聚合函数都忽略null输入，因此，在其中一个或多个表达式产生null的行被丢弃。这可以假定为真，除非另有规定，对于所有内置的集合。</p>
<p>  例如，count(*)会产生输入行的总数；count(f1)产生的输入行数，f1是 non-null，因为count忽略了null；并且count(distinct f1)产生了f1的不同非空值的数目。</p>
<p>  通常，输入行以未指定的顺序输入聚合函数。在许多情况下，这并不重要；例如，不管输入什么顺序，min都会产生相同的结果。但是，一些聚合函数(例如array_agg和string_agg)产生的结果依赖于输入行的顺序。在使用这样的聚合时，可以使用可选<code>order_by_clause</code>指定所需的排序。<code>order_by_clause</code>语法与查询级顺序相同，只是它的表达式总是表达式，不能是输出列名称或数字。例如:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">array_agg</span>(a <span class="keyword">ORDER</span> <span class="keyword">BY</span> b <span class="keyword">DESC</span>) <span class="keyword">FROM</span> <span class="keyword">table</span>;</span><br></pre></td></tr></table></figure>
<p>  在处理多参数聚合函数时，请注意，ORDER BY子句要处理所有的聚合参数。例如,写这个:</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> string_agg(a, <span class="string">&#x27;,&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> a) <span class="keyword">FROM</span> <span class="keyword">table</span>;</span><br></pre></td></tr></table></figure>
<p>  而不是：</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> string_agg(a <span class="keyword">ORDER</span> <span class="keyword">BY</span> a, <span class="string">&#x27;,&#x27;</span>) <span class="keyword">FROM</span> <span class="keyword">table</span>;  <span class="comment">-- incorrect</span></span><br></pre></td></tr></table></figure>
<p>  后者在语法上是有效的，但是它代表了一个单参数聚合函数的调用，它有两个键的顺序(第二个是无用的，因为它是一个常量)。</p>
<p>  如果除了<em>order_by_caluse</em>之外，还指定了<code>DISTINCT</code>，那么所有<strong>ORDER BY</strong>表达式的所有顺序都必须匹配聚合的正则参数；也就是说，不能对不包含在不同列表中的表达式<strong>DISTINCT</strong>排序。</p>
<ol start="8">
<li>调用窗口函数</li>
<li>圆柱型</li>
<li>排序规则表达式</li>
<li>标量子查询</li>
<li>数组构造函数</li>
<li>行构造函数</li>
<li>表达式求值规则</li>
</ol>
<h4 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h4><ol>
<li>使用按位记数法</li>
<li>使用命名符号</li>
<li>使用复合符号</li>
</ol>
<h3 id="数据定义"><a href="#数据定义" class="headerlink" title="数据定义"></a>数据定义</h3><h4 id="表基础知识"><a href="#表基础知识" class="headerlink" title="表基础知识"></a>表基础知识</h4><h4 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h4><h4 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h4><ol>
<li>约束检查</li>
<li>非空（Not-Null）约束</li>
<li>唯一值约束</li>
<li>主键</li>
<li>外键</li>
<li>排除约束</li>
</ol>
<h4 id="系统列"><a href="#系统列" class="headerlink" title="系统列"></a>系统列</h4><h4 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h4><ol>
<li>添加列</li>
<li>删除列</li>
<li>添加约束</li>
<li>删除约束</li>
<li>更改列的默认值</li>
<li>更改列的数据类型</li>
<li>重命名列</li>
<li>重命名表</li>
</ol>
<h4 id="特权"><a href="#特权" class="headerlink" title="特权"></a>特权</h4><h4 id="行安全策略"><a href="#行安全策略" class="headerlink" title="行安全策略"></a>行安全策略</h4><h4 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h4><ol>
<li>创建模式</li>
<li>公共模式</li>
<li>模式搜索路径</li>
<li>模式和特权</li>
<li>系统目录模式</li>
<li>使用模式</li>
<li>可移植性</li>
</ol>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><ol>
<li>警告</li>
</ol>
<h4 id="表分区"><a href="#表分区" class="headerlink" title="表分区"></a>表分区</h4><ol>
<li>概述</li>
<li>声明式分区</li>
<li>使用继承实现</li>
<li>分区和约束排斥</li>
</ol>
<h4 id="外部值"><a href="#外部值" class="headerlink" title="外部值"></a>外部值</h4><h4 id="其他数据库对象"><a href="#其他数据库对象" class="headerlink" title="其他数据库对象"></a>其他数据库对象</h4><h4 id="依赖跟踪"><a href="#依赖跟踪" class="headerlink" title="依赖跟踪"></a>依赖跟踪</h4><h3 id="数据操作"><a href="#数据操作" class="headerlink" title="数据操作"></a>数据操作</h3><h4 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h4><h4 id="更新数据"><a href="#更新数据" class="headerlink" title="更新数据"></a>更新数据</h4><h4 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h4><h4 id="返回修改行数据"><a href="#返回修改行数据" class="headerlink" title="返回修改行数据"></a>返回修改行数据</h4><h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><h4 id="表表达式"><a href="#表表达式" class="headerlink" title="表表达式"></a>表表达式</h4><ol>
<li>FROM子语句</li>
<li>WHERE子语句</li>
<li>GROUP BY和HAVING子语句</li>
<li>GROUPING SETS，CUBE和ROLLUP</li>
<li>窗口处理函数</li>
</ol>
<h4 id="选择列表"><a href="#选择列表" class="headerlink" title="选择列表"></a>选择列表</h4><ol>
<li>选择列表项</li>
<li>列标签</li>
<li>DISTINCT</li>
</ol>
<h4 id="组合查询"><a href="#组合查询" class="headerlink" title="组合查询"></a>组合查询</h4><h4 id="行排序"><a href="#行排序" class="headerlink" title="行排序"></a>行排序</h4><h4 id="限制和偏移量"><a href="#限制和偏移量" class="headerlink" title="限制和偏移量"></a>限制和偏移量</h4><h4 id="值列表"><a href="#值列表" class="headerlink" title="值列表"></a>值列表</h4><h4 id="WITH查询（常有表表达式）"><a href="#WITH查询（常有表表达式）" class="headerlink" title="WITH查询（常有表表达式）"></a>WITH查询（常有表表达式）</h4><ol>
<li>用WITH选择</li>
<li>用WITH修改数据状态</li>
</ol>
<h3 id="函数和运算符"><a href="#函数和运算符" class="headerlink" title="函数和运算符"></a>函数和运算符</h3><h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><h4 id="比较函数和运算符"><a href="#比较函数和运算符" class="headerlink" title="比较函数和运算符"></a>比较函数和运算符</h4><h4 id="数学函数和运算符"><a href="#数学函数和运算符" class="headerlink" title="数学函数和运算符"></a>数学函数和运算符</h4><h4 id="字符串函数和运算符"><a href="#字符串函数和运算符" class="headerlink" title="字符串函数和运算符"></a>字符串函数和运算符</h4><h4 id="二进制字符串函数和运算符"><a href="#二进制字符串函数和运算符" class="headerlink" title="二进制字符串函数和运算符"></a>二进制字符串函数和运算符</h4><h4 id="字节函数和运算符"><a href="#字节函数和运算符" class="headerlink" title="字节函数和运算符"></a>字节函数和运算符</h4><h4 id="模式匹配"><a href="#模式匹配" class="headerlink" title="模式匹配"></a>模式匹配</h4><h4 id="数据类型格式函数"><a href="#数据类型格式函数" class="headerlink" title="数据类型格式函数"></a>数据类型格式函数</h4><h4 id="日期-时间函数和运算符"><a href="#日期-时间函数和运算符" class="headerlink" title="日期/时间函数和运算符"></a>日期/时间函数和运算符</h4><h4 id="枚举支持函数"><a href="#枚举支持函数" class="headerlink" title="枚举支持函数"></a>枚举支持函数</h4><h4 id="几何函数和运算符"><a href="#几何函数和运算符" class="headerlink" title="几何函数和运算符"></a>几何函数和运算符</h4><h4 id="网络地址函数和运算符"><a href="#网络地址函数和运算符" class="headerlink" title="网络地址函数和运算符"></a>网络地址函数和运算符</h4><h4 id="文本搜索函数和操作符"><a href="#文本搜索函数和操作符" class="headerlink" title="文本搜索函数和操作符"></a>文本搜索函数和操作符</h4><h4 id="XML函数"><a href="#XML函数" class="headerlink" title="XML函数"></a>XML函数</h4><h4 id="JSON函数和运算符"><a href="#JSON函数和运算符" class="headerlink" title="JSON函数和运算符"></a>JSON函数和运算符</h4><h4 id="序列操作函数"><a href="#序列操作函数" class="headerlink" title="序列操作函数"></a>序列操作函数</h4><h4 id="条件表达式"><a href="#条件表达式" class="headerlink" title="条件表达式"></a>条件表达式</h4><h4 id="数组函数和运算符"><a href="#数组函数和运算符" class="headerlink" title="数组函数和运算符"></a>数组函数和运算符</h4><h4 id="范围函数和运算符"><a href="#范围函数和运算符" class="headerlink" title="范围函数和运算符"></a>范围函数和运算符</h4><h4 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h4><h4 id="窗口函数"><a href="#窗口函数" class="headerlink" title="窗口函数"></a>窗口函数</h4><h4 id="子查询表达式"><a href="#子查询表达式" class="headerlink" title="子查询表达式"></a>子查询表达式</h4><h4 id="行和数组比较"><a href="#行和数组比较" class="headerlink" title="行和数组比较"></a>行和数组比较</h4><h4 id="设置返回函数"><a href="#设置返回函数" class="headerlink" title="设置返回函数"></a>设置返回函数</h4><h4 id="系统信息函数"><a href="#系统信息函数" class="headerlink" title="系统信息函数"></a>系统信息函数</h4><h4 id="系统管理函数"><a href="#系统管理函数" class="headerlink" title="系统管理函数"></a>系统管理函数</h4><h4 id="触发函数"><a href="#触发函数" class="headerlink" title="触发函数"></a>触发函数</h4><h4 id="事件触发函数"><a href="#事件触发函数" class="headerlink" title="事件触发函数"></a>事件触发函数</h4><h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><h4 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h4><h4 id="运算操作"><a href="#运算操作" class="headerlink" title="运算操作"></a>运算操作</h4><h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><h4 id="值存储"><a href="#值存储" class="headerlink" title="值存储"></a>值存储</h4><h4 id="UNION、CASE和相关构造"><a href="#UNION、CASE和相关构造" class="headerlink" title="UNION、CASE和相关构造"></a>UNION、CASE和相关构造</h4><h4 id="选择输出列"><a href="#选择输出列" class="headerlink" title="选择输出列"></a>选择输出列</h4><h3 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><h4 id="索引类型"><a href="#索引类型" class="headerlink" title="索引类型"></a>索引类型</h4><h4 id="多列索引"><a href="#多列索引" class="headerlink" title="多列索引"></a>多列索引</h4><h4 id="索引和ORDER-BY"><a href="#索引和ORDER-BY" class="headerlink" title="索引和ORDER BY"></a>索引和ORDER BY</h4><h4 id="结合多个索引"><a href="#结合多个索引" class="headerlink" title="结合多个索引"></a>结合多个索引</h4><h4 id="唯一值索引"><a href="#唯一值索引" class="headerlink" title="唯一值索引"></a>唯一值索引</h4><h4 id="索引表达式"><a href="#索引表达式" class="headerlink" title="索引表达式"></a>索引表达式</h4><h4 id="部分索引"><a href="#部分索引" class="headerlink" title="部分索引"></a>部分索引</h4><h4 id="操作类和操作家族"><a href="#操作类和操作家族" class="headerlink" title="操作类和操作家族"></a>操作类和操作家族</h4><h4 id="索引和排序"><a href="#索引和排序" class="headerlink" title="索引和排序"></a>索引和排序</h4><h4 id="唯一索引查看"><a href="#唯一索引查看" class="headerlink" title="唯一索引查看"></a>唯一索引查看</h4><h4 id="检查索引使用"><a href="#检查索引使用" class="headerlink" title="检查索引使用"></a>检查索引使用</h4><h3 id="全文检索"><a href="#全文检索" class="headerlink" title="全文检索"></a>全文检索</h3><h4 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h4><ol>
<li>文档是什么？</li>
<li>基本的文档匹配</li>
<li>配置</li>
</ol>
<h4 id="表和索引"><a href="#表和索引" class="headerlink" title="表和索引"></a>表和索引</h4><ol>
<li>查询表</li>
<li>创建索引</li>
</ol>
<h4 id="控制全文检索"><a href="#控制全文检索" class="headerlink" title="控制全文检索"></a>控制全文检索</h4><ol>
<li>解析文档</li>
<li>解析查询</li>
<li>查询结果排名</li>
<li>强调结果</li>
</ol>
<h4 id="其他特性"><a href="#其他特性" class="headerlink" title="其他特性"></a>其他特性</h4><ol>
<li>文档操作</li>
<li>查询操作</li>
<li>触发自动更新</li>
<li>收集文档统计信息</li>
</ol>
<h4 id="解析器"><a href="#解析器" class="headerlink" title="解析器"></a>解析器</h4><h4 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h4><ol>
<li>停止词</li>
<li>Simple字典</li>
<li>Synonym字典</li>
<li>Thesaurus字段</li>
<li>Ispell字典</li>
<li>Snowball字典</li>
</ol>
<h4 id="配置示例"><a href="#配置示例" class="headerlink" title="配置示例"></a>配置示例</h4><h4 id="测试和调试文本搜索"><a href="#测试和调试文本搜索" class="headerlink" title="测试和调试文本搜索"></a>测试和调试文本搜索</h4><ol>
<li>配置测试</li>
<li>解析测试</li>
<li>字典测试</li>
</ol>
<h4 id="GIN和GiST索引类型"><a href="#GIN和GiST索引类型" class="headerlink" title="GIN和GiST索引类型"></a>GIN和GiST索引类型</h4><h4 id="psql支持"><a href="#psql支持" class="headerlink" title="psql支持"></a>psql支持</h4><h4 id="限制"><a href="#限制" class="headerlink" title="限制"></a>限制</h4><h3 id="并发控制"><a href="#并发控制" class="headerlink" title="并发控制"></a>并发控制</h3><h4 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h4><h4 id="事物隔离"><a href="#事物隔离" class="headerlink" title="事物隔离"></a>事物隔离</h4><ol>
<li>读取提交隔离级别</li>
<li>可重复度隔离级别</li>
<li>可序列化隔离级别</li>
</ol>
<h4 id="显示锁"><a href="#显示锁" class="headerlink" title="显示锁"></a>显示锁</h4><ol>
<li>表级别锁</li>
<li>行级别锁</li>
<li>页面级别锁</li>
<li>死锁</li>
<li>咨询锁</li>
</ol>
<h4 id="在应用级别下的数据一致性检查"><a href="#在应用级别下的数据一致性检查" class="headerlink" title="在应用级别下的数据一致性检查"></a>在应用级别下的数据一致性检查</h4><ol>
<li>执行与可序列化事务的一致性</li>
<li>强制执行与显式阻塞锁的一致性</li>
</ol>
<h4 id="警告"><a href="#警告" class="headerlink" title="警告"></a>警告</h4><h4 id="锁定和索引"><a href="#锁定和索引" class="headerlink" title="锁定和索引"></a>锁定和索引</h4><h3 id="性能技巧"><a href="#性能技巧" class="headerlink" title="性能技巧"></a>性能技巧</h3><h4 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h4><ol>
<li>使用基础</li>
<li>使用分析</li>
<li>警告</li>
</ol>
<h4 id="Planner使用的统计"><a href="#Planner使用的统计" class="headerlink" title="Planner使用的统计"></a>Planner使用的统计</h4><ol>
<li>单列数据统计</li>
<li>可扩展的信息统计</li>
</ol>
<h4 id="使用显式连接子句控制计划程序"><a href="#使用显式连接子句控制计划程序" class="headerlink" title="使用显式连接子句控制计划程序"></a>使用显式连接子句控制计划程序</h4><h4 id="填充一个数据库"><a href="#填充一个数据库" class="headerlink" title="填充一个数据库"></a>填充一个数据库</h4><ol>
<li>禁止自动提交</li>
<li>使用COPY</li>
<li>删除索引</li>
<li>删除外键约束</li>
<li>增加maintenance_work_mem</li>
<li>增加max_wal_size</li>
<li>禁用WAL_Archival和流复制</li>
<li>运行ABALYZE</li>
<li>关于pg_dump笔记</li>
</ol>
<h4 id="非持久设置"><a href="#非持久设置" class="headerlink" title="非持久设置"></a>非持久设置</h4><h3 id="并行查询"><a href="#并行查询" class="headerlink" title="并行查询"></a>并行查询</h3><h4 id="并行查询是如何工作的"><a href="#并行查询是如何工作的" class="headerlink" title="并行查询是如何工作的"></a>并行查询是如何工作的</h4><h4 id="何时可以使用并行查询？"><a href="#何时可以使用并行查询？" class="headerlink" title="何时可以使用并行查询？"></a>何时可以使用并行查询？</h4><h4 id="并行计划"><a href="#并行计划" class="headerlink" title="并行计划"></a>并行计划</h4><ol>
<li>并行扫描</li>
<li>并行连接</li>
<li>并行聚合</li>
<li>并行计划建议</li>
</ol>
<h4 id="并行安全"><a href="#并行安全" class="headerlink" title="并行安全"></a>并行安全</h4>
    </div>

    
    
    
        <div class="reward-container">
  <div>原创技术分享，您的支持将鼓励我继续创作</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="Javy WeChat Pay">
        <p>WeChat Pay</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="Javy Alipay">
        <p>Alipay</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/PostgresSQL/" rel="tag"># PostgresSQL</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/postgresql/python_in_postgresql/" rel="prev" title="PostgreSQL下的Python">
      <i class="fa fa-chevron-left"></i> PostgreSQL下的Python
    </a></div>
      <div class="post-nav-item">
    <a href="/postgresql/install_postgres/" rel="next" title="CentOS7下安装PostgresSQL10">
      CentOS7下安装PostgresSQL10 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL%E8%AF%AD%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">SQL语言</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL%E8%AF%AD%E6%B3%95"><span class="nav-number">1.1.</span> <span class="nav-text">SQL语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%8D%E6%B1%87%E7%BB%93%E6%9E%84"><span class="nav-number">1.1.1.</span> <span class="nav-text">词汇结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%80%BC%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.1.2.</span> <span class="nav-text">值表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="nav-number">1.1.3.</span> <span class="nav-text">函数调用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89"><span class="nav-number">1.2.</span> <span class="nav-text">数据定义</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-number">1.2.1.</span> <span class="nav-text">表基础知识</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-number">1.2.2.</span> <span class="nav-text">默认值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BA%A6%E6%9D%9F"><span class="nav-number">1.2.3.</span> <span class="nav-text">约束</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%88%97"><span class="nav-number">1.2.4.</span> <span class="nav-text">系统列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8"><span class="nav-number">1.2.5.</span> <span class="nav-text">修改表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E6%9D%83"><span class="nav-number">1.2.6.</span> <span class="nav-text">特权</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%8C%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5"><span class="nav-number">1.2.7.</span> <span class="nav-text">行安全策略</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.2.8.</span> <span class="nav-text">模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-number">1.2.9.</span> <span class="nav-text">继承</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8%E5%88%86%E5%8C%BA"><span class="nav-number">1.2.10.</span> <span class="nav-text">表分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E5%80%BC"><span class="nav-number">1.2.11.</span> <span class="nav-text">外部值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.2.12.</span> <span class="nav-text">其他数据库对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E8%B7%9F%E8%B8%AA"><span class="nav-number">1.2.13.</span> <span class="nav-text">依赖跟踪</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="nav-number">1.3.</span> <span class="nav-text">数据操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-number">1.3.1.</span> <span class="nav-text">插入数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE"><span class="nav-number">1.3.2.</span> <span class="nav-text">更新数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="nav-number">1.3.3.</span> <span class="nav-text">删除数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E4%BF%AE%E6%94%B9%E8%A1%8C%E6%95%B0%E6%8D%AE"><span class="nav-number">1.3.4.</span> <span class="nav-text">返回修改行数据</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.4.</span> <span class="nav-text">查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number">1.4.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.4.2.</span> <span class="nav-text">表表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E5%88%97%E8%A1%A8"><span class="nav-number">1.4.3.</span> <span class="nav-text">选择列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%84%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.4.4.</span> <span class="nav-text">组合查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%8C%E6%8E%92%E5%BA%8F"><span class="nav-number">1.4.5.</span> <span class="nav-text">行排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%90%E5%88%B6%E5%92%8C%E5%81%8F%E7%A7%BB%E9%87%8F"><span class="nav-number">1.4.6.</span> <span class="nav-text">限制和偏移量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%80%BC%E5%88%97%E8%A1%A8"><span class="nav-number">1.4.7.</span> <span class="nav-text">值列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WITH%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%B8%B8%E6%9C%89%E8%A1%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%89"><span class="nav-number">1.4.8.</span> <span class="nav-text">WITH查询（常有表表达式）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.</span> <span class="nav-text">函数和运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.1.</span> <span class="nav-text">逻辑运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.2.</span> <span class="nav-text">比较函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.3.</span> <span class="nav-text">数学函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.4.</span> <span class="nav-text">字符串函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.5.</span> <span class="nav-text">二进制字符串函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.6.</span> <span class="nav-text">字节函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="nav-number">1.5.7.</span> <span class="nav-text">模式匹配</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%A0%BC%E5%BC%8F%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.8.</span> <span class="nav-text">数据类型格式函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%A5%E6%9C%9F-%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.9.</span> <span class="nav-text">日期&#x2F;时间函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%9A%E4%B8%BE%E6%94%AF%E6%8C%81%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.10.</span> <span class="nav-text">枚举支持函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%A0%E4%BD%95%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.11.</span> <span class="nav-text">几何函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.12.</span> <span class="nav-text">网络地址函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E6%9C%AC%E6%90%9C%E7%B4%A2%E5%87%BD%E6%95%B0%E5%92%8C%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-number">1.5.13.</span> <span class="nav-text">文本搜索函数和操作符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XML%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.14.</span> <span class="nav-text">XML函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JSON%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.15.</span> <span class="nav-text">JSON函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.16.</span> <span class="nav-text">序列操作函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.5.17.</span> <span class="nav-text">条件表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.18.</span> <span class="nav-text">数组函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8C%83%E5%9B%B4%E5%87%BD%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">1.5.19.</span> <span class="nav-text">范围函数和运算符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.20.</span> <span class="nav-text">聚合函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AA%97%E5%8F%A3%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.21.</span> <span class="nav-text">窗口函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.5.22.</span> <span class="nav-text">子查询表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%8C%E5%92%8C%E6%95%B0%E7%BB%84%E6%AF%94%E8%BE%83"><span class="nav-number">1.5.23.</span> <span class="nav-text">行和数组比较</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E8%BF%94%E5%9B%9E%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.24.</span> <span class="nav-text">设置返回函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.25.</span> <span class="nav-text">系统信息函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.26.</span> <span class="nav-text">系统管理函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A6%E5%8F%91%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.27.</span> <span class="nav-text">触发函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E5%87%BD%E6%95%B0"><span class="nav-number">1.5.28.</span> <span class="nav-text">事件触发函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="nav-number">1.6.</span> <span class="nav-text">类型转换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="nav-number">1.6.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E6%93%8D%E4%BD%9C"><span class="nav-number">1.6.2.</span> <span class="nav-text">运算操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">1.6.3.</span> <span class="nav-text">函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%80%BC%E5%AD%98%E5%82%A8"><span class="nav-number">1.6.4.</span> <span class="nav-text">值存储</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UNION%E3%80%81CASE%E5%92%8C%E7%9B%B8%E5%85%B3%E6%9E%84%E9%80%A0"><span class="nav-number">1.6.5.</span> <span class="nav-text">UNION、CASE和相关构造</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E8%BE%93%E5%87%BA%E5%88%97"><span class="nav-number">1.6.6.</span> <span class="nav-text">选择输出列</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95"><span class="nav-number">1.7.</span> <span class="nav-text">索引</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">1.7.1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.7.2.</span> <span class="nav-text">索引类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%88%97%E7%B4%A2%E5%BC%95"><span class="nav-number">1.7.3.</span> <span class="nav-text">多列索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E5%92%8CORDER-BY"><span class="nav-number">1.7.4.</span> <span class="nav-text">索引和ORDER BY</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%93%E5%90%88%E5%A4%9A%E4%B8%AA%E7%B4%A2%E5%BC%95"><span class="nav-number">1.7.5.</span> <span class="nav-text">结合多个索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%94%AF%E4%B8%80%E5%80%BC%E7%B4%A2%E5%BC%95"><span class="nav-number">1.7.6.</span> <span class="nav-text">唯一值索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">1.7.7.</span> <span class="nav-text">索引表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%83%A8%E5%88%86%E7%B4%A2%E5%BC%95"><span class="nav-number">1.7.8.</span> <span class="nav-text">部分索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B1%BB%E5%92%8C%E6%93%8D%E4%BD%9C%E5%AE%B6%E6%97%8F"><span class="nav-number">1.7.9.</span> <span class="nav-text">操作类和操作家族</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E5%92%8C%E6%8E%92%E5%BA%8F"><span class="nav-number">1.7.10.</span> <span class="nav-text">索引和排序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95%E6%9F%A5%E7%9C%8B"><span class="nav-number">1.7.11.</span> <span class="nav-text">唯一索引查看</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A3%80%E6%9F%A5%E7%B4%A2%E5%BC%95%E4%BD%BF%E7%94%A8"><span class="nav-number">1.7.12.</span> <span class="nav-text">检查索引使用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2"><span class="nav-number">1.8.</span> <span class="nav-text">全文检索</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B-1"><span class="nav-number">1.8.1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A8%E5%92%8C%E7%B4%A2%E5%BC%95"><span class="nav-number">1.8.2.</span> <span class="nav-text">表和索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2"><span class="nav-number">1.8.3.</span> <span class="nav-text">控制全文检索</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E7%89%B9%E6%80%A7"><span class="nav-number">1.8.4.</span> <span class="nav-text">其他特性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="nav-number">1.8.5.</span> <span class="nav-text">解析器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E5%85%B8"><span class="nav-number">1.8.6.</span> <span class="nav-text">字典</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B"><span class="nav-number">1.8.7.</span> <span class="nav-text">配置示例</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E5%92%8C%E8%B0%83%E8%AF%95%E6%96%87%E6%9C%AC%E6%90%9C%E7%B4%A2"><span class="nav-number">1.8.8.</span> <span class="nav-text">测试和调试文本搜索</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIN%E5%92%8CGiST%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.8.9.</span> <span class="nav-text">GIN和GiST索引类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#psql%E6%94%AF%E6%8C%81"><span class="nav-number">1.8.10.</span> <span class="nav-text">psql支持</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%90%E5%88%B6"><span class="nav-number">1.8.11.</span> <span class="nav-text">限制</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6"><span class="nav-number">1.9.</span> <span class="nav-text">并发控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B-2"><span class="nav-number">1.9.1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8B%E7%89%A9%E9%9A%94%E7%A6%BB"><span class="nav-number">1.9.2.</span> <span class="nav-text">事物隔离</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%98%BE%E7%A4%BA%E9%94%81"><span class="nav-number">1.9.3.</span> <span class="nav-text">显示锁</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E5%BA%94%E7%94%A8%E7%BA%A7%E5%88%AB%E4%B8%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7%E6%A3%80%E6%9F%A5"><span class="nav-number">1.9.4.</span> <span class="nav-text">在应用级别下的数据一致性检查</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AD%A6%E5%91%8A"><span class="nav-number">1.9.5.</span> <span class="nav-text">警告</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%94%81%E5%AE%9A%E5%92%8C%E7%B4%A2%E5%BC%95"><span class="nav-number">1.9.6.</span> <span class="nav-text">锁定和索引</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%A7%E8%83%BD%E6%8A%80%E5%B7%A7"><span class="nav-number">1.10.</span> <span class="nav-text">性能技巧</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="nav-number">1.10.1.</span> <span class="nav-text">使用说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Planner%E4%BD%BF%E7%94%A8%E7%9A%84%E7%BB%9F%E8%AE%A1"><span class="nav-number">1.10.2.</span> <span class="nav-text">Planner使用的统计</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%98%BE%E5%BC%8F%E8%BF%9E%E6%8E%A5%E5%AD%90%E5%8F%A5%E6%8E%A7%E5%88%B6%E8%AE%A1%E5%88%92%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.10.3.</span> <span class="nav-text">使用显式连接子句控制计划程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A1%AB%E5%85%85%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.10.4.</span> <span class="nav-text">填充一个数据库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%9E%E6%8C%81%E4%B9%85%E8%AE%BE%E7%BD%AE"><span class="nav-number">1.10.5.</span> <span class="nav-text">非持久设置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B9%B6%E8%A1%8C%E6%9F%A5%E8%AF%A2"><span class="nav-number">1.11.</span> <span class="nav-text">并行查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B6%E8%A1%8C%E6%9F%A5%E8%AF%A2%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84"><span class="nav-number">1.11.1.</span> <span class="nav-text">并行查询是如何工作的</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%95%E6%97%B6%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%B9%B6%E8%A1%8C%E6%9F%A5%E8%AF%A2%EF%BC%9F"><span class="nav-number">1.11.2.</span> <span class="nav-text">何时可以使用并行查询？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B6%E8%A1%8C%E8%AE%A1%E5%88%92"><span class="nav-number">1.11.3.</span> <span class="nav-text">并行计划</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B6%E8%A1%8C%E5%AE%89%E5%85%A8"><span class="nav-number">1.11.4.</span> <span class="nav-text">并行安全</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Javy"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Javy</p>
  <div class="site-description" itemprop="description">You can create art and beauty on a computer.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">74</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/javyxu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;javyxu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>


      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2018 - 2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Javy</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : 'de44f4e91f73c590197c',
      clientSecret: '840b907d657247c9ddcbcec968b641fda5d3b969',
      repo        : 'javyxu.github.io',
      owner       : 'javyxu',
      admin       : ['javyxu'],
      id          : '87013fb8799d7d1df95a89353ed51a34',
      proxy       : 'https://netnr-proxy.cloudno.de/https://github.com/login/oauth/access_token',
        language: 'en',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
